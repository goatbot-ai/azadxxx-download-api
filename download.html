<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>AutoDownloader ‚Äî Azad üí•</title>
<style>
body{font-family:sans-serif;background:#0f1720;color:#e6eef8;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;}
.card{background:#0b1220;padding:20px;border-radius:12px;width:90%;max-width:720px;}
input, button{width:100%;padding:10px;margin-top:10px;border-radius:8px;}
.download-link{display:block;margin-top:8px;background:#10b981;color:#012015;padding:8px;border-radius:8px;text-decoration:none;}
</style>
</head>
<body>
<div class="card">
<h2>AutoDownloader ‚Äî Azad üí•</h2>
<input id="apiBase" type="text" value="http://localhost:3000" placeholder="API Base URL">
<input id="videoUrl" type="text" placeholder="Paste video link here">
<button id="go">Fetch & Download</button>
<div id="status"></div>
<div id="result" style="display:none;">
<div id="info"></div>
<div id="links"></div>
</div>
</div>

<script>
document.getElementById('go').addEventListener('click', async ()=>{
const apiBase=document.getElementById('apiBase').value.trim();
const videoUrl=document.getElementById('videoUrl').value.trim();
const status=document.getElementById('status');
const result=document.getElementById('result');
const info=document.getElementById('info');
const links=document.getElementById('links');
result.style.display='none'; info.innerHTML=''; links.innerHTML=''; status.textContent='';
if(!apiBase||!videoUrl){status.textContent='API Base and Video URL required';return;}
status.textContent='‚åõ Fetching...';
try{
const resp=await fetch(`${apiBase.replace(/\/+$/,'')}/api/download?url=${encodeURIComponent(videoUrl)}`);
const data=await resp.json();
if(!data.status||!data.result?.video){status.textContent='‚ùå Video not found';return;}
const mediaUrl=data.result.video;
const title=data.result.title;
const platform=data.result.platform;
info.innerHTML=`‚úÖ Title: ${title}<br>Platform: ${platform}<br>URL: ${mediaUrl}`;
const a=document.createElement('a'); a.href=mediaUrl; a.textContent='Download'; a.className='download-link'; a.target='_blank';
links.appendChild(a);
result.style.display='block';
status.textContent='‚úÖ Ready';
}catch(e){status.textContent='‚ùå Error: '+e.message;}
});
</script>
</body>
</html>
